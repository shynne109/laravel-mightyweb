document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector("[data-sidebar-toggle]"),n=document.querySelector("[data-sidebar]"),s=document.querySelector("[data-sidebar-overlay]");a&&n&&a.addEventListener("click",()=>{n.classList.toggle("translate-x-0"),n.classList.toggle("-translate-x-full"),s&&s.classList.toggle("hidden")}),s&&s.addEventListener("click",()=>{n.classList.add("-translate-x-full"),n.classList.remove("translate-x-0"),s.classList.add("hidden")}),document.querySelectorAll("[data-flash-message]").forEach(e=>{setTimeout(()=>{e.style.transition="opacity 0.5s ease-out",e.style.opacity="0",setTimeout(()=>e.remove(),500)},5e3)}),document.querySelectorAll("[data-confirm-delete]").forEach(e=>{e.addEventListener("click",o=>{confirm("Are you sure you want to delete this item? This action cannot be undone.")||o.preventDefault()})}),document.querySelectorAll('input[type="file"][accept*="image"]').forEach(e=>{e.addEventListener("change",function(o){const t=o.target.files[0];if(t&&t.type.startsWith("image/")){const r=new FileReader;r.onload=function(i){const c=document.querySelector(`[data-preview-for="${e.id}"]`);c&&(c.src=i.target.result,c.classList.remove("hidden"))},r.readAsDataURL(t)}})});const d=document.querySelector("[data-dark-mode-toggle]");d&&(d.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("darkMode",document.documentElement.classList.contains("dark"))}),localStorage.getItem("darkMode")==="true"&&document.documentElement.classList.add("dark")),document.querySelectorAll("[data-sortable]").forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",function(){const o=this.dataset.sortable,t=new URL(window.location),r=t.searchParams.get("sort"),i=t.searchParams.get("direction");let c="asc";r===o&&i==="asc"&&(c="desc"),t.searchParams.set("sort",o),t.searchParams.set("direction",c),window.location.href=t.toString()})}),document.querySelectorAll("[data-search]").forEach(e=>{let o;e.addEventListener("input",function(){clearTimeout(o),o=setTimeout(()=>{this.form.submit()},500)})}),document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("click",function(){const o=this.dataset.copy;navigator.clipboard.writeText(o).then(()=>{const t=this.textContent;this.textContent="Copied!",setTimeout(()=>{this.textContent=t},2e3)})})}),document.querySelectorAll("[data-toggle-password]").forEach(e=>{e.addEventListener("click",function(){const o=this.dataset.togglePassword,t=document.getElementById(o);if(t){const r=t.type==="password"?"text":"password";t.type=r,this.querySelector("svg").classList.toggle("hidden")}})})});window.MightyWeb={confirmDelete:function(a="Are you sure you want to delete this item?"){return confirm(a)},showNotification:function(a,n="success"){const s=document.createElement("div");s.className=`fixed top-4 right-4 px-6 py-4 rounded-lg shadow-lg z-50 animate-slide-in-right ${n==="success"?"bg-green-500":n==="error"?"bg-red-500":n==="warning"?"bg-yellow-500":"bg-blue-500"} text-white`,s.textContent=a,document.body.appendChild(s),setTimeout(()=>{s.style.transition="opacity 0.5s ease-out",s.style.opacity="0",setTimeout(()=>s.remove(),500)},3e3)},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})}};
